
object Generators

inherit list
  Harness


Counter iterator as start, stop, delta
  if stop > start
    set delta default 1
    if delta <= 0
      throw new ~Error "Counter: when stop>start, delta must be positive"
    while start <= stop
      yield start
      set start + delta
  else
    set delta default -1
    if delta >= 0
      throw new ~Error "Counter: when stop<start, delta must be negative"
    while start >= stop
      yield start
      set start + delta


Execute task

  set Twice to iterator as a
    yield a
    yield a

  set SimpleCounter to iterator as a
    count to a
      yielding from Twice key

  @Match 'generators', 6, task
    set b to 0
    iterate from SimpleCounter 3
      set b + it
    return b
    
  @Match 'iterate using', 6, task
    set b to 0
    set I to task
      set b + $
    iterate from SimpleCounter 3 using I
    return b
        
  @Match 'sorted iterator', 2, task
    set c10 from @Counter 10,1,-2
    return c10 by . limit 1
    
  
  
