reference:
  fs require('fs')
  readline require('readline')
  stream require('stream')
  
object Test

instance:
  pass empty
  fail empty
  ids blank

Instantiate task

  set tests to list
    Literals
    Syntax
    Generators
    Comps
    RValues
    Operators
    Precedence
    Constructs
    Functions
    SetStatement
    Loops
    Reference
    CompOrderOps
    Inheritance
    
//  set inactive to list


  ply tests
    set suite to create it @
    suite.Execute
    
  if @fail.length
    debug 'FAILED'
    ply @fail
      debug 'FAIL: ${it}'
    ~process.exit 1
  else
    debug 'SUCCESS'

// ok just ignore this right now
AnalyseParseTrace task
  set
    filename 'parse.trace'
    instream ~fs.createReadStream(filename)
    outstream new ~stream
    rl ~readline.createInterface(instream,outstream)
    ruletally blank

  rl.on 'line', task as line
    set line from line.split /\s+/
    set ruletally[line.2] to (self default 0)+1

  rl.on 'close', task
    debug ruletally enlist by .1 desc
    

